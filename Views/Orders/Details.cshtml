@model e_commercee.Models.Order




<div class="col-md-4 mb-2">
    <div class="card" style="width: 18rem;">
        <div class="card-body">
            <h5 class="card-title">@Model.Id</h5>
            <p class="card-text"></p>
            <h5 class="card-title">Address:</h5>
            <p class="card-text">@Model.Address.AddressLine @Model.Address.City @Model.Address.state - @Model.Address.PinCode</p>
        </div>
        <div>
            <h5>Order Amount: </h5>
            <p>$@Model.Amount</p>
        </div>
        <div>
            <h5>Status: </h5>
            <p>@Model.Status</p>
        </div>
    </div>
  
   
</div>

<div class="container">
    <div class="row">
        @foreach (var orderProduct in Model.OrderProducts)
        {
            <div>
                <h4>Product</h4>
                <hr />
                <dl class="row">
                    <dt class="col-sm-2">
                        <img src="@orderProduct.Product.Image" />
                    </dt>
                    <dd class="col-sm-10">
                        <h4>@orderProduct.Product.Name</h4>
                    </dd>
                    <dt class="col-sm-2">
                        <p>$@orderProduct.Product.Price</p>
                    </dt>
                    <dd class="col-sm-10">
                        <h3>@orderProduct.Qty</h3>
                    </dd>

                </dl>
            </div>

        }
        <table class="table table-bordered" id="dataTable" width="100%" cellspacing="0">
            <thead>
                <tr>
                    <th>
                        @Html.DisplayNameFor(model => model.OrderProducts.FirstOrDefault().Product.Image)
                    </th>
                    <th> @Html.DisplayNameFor(model => model.OrderProducts.FirstOrDefault().Product.Name)</th>
                    <th> @Html.DisplayNameFor(model => model.OrderProducts.FirstOrDefault().Product.Description)</th>
                    <th> @Html.DisplayNameFor(model => model.OrderProducts.FirstOrDefault().Product.Price)</th>
                    <th> @Html.DisplayNameFor(model => model.OrderProducts.FirstOrDefault().Qty)</th>



                </tr>
            </thead>
            <p>عدد المنتجات: @Model.OrderProducts?.Count()</p>
            <tbody>
                @foreach (var item in Model.OrderProducts)
                {
                    @if (Model.OrderProducts != null && Model.OrderProducts.Any())
                    {
                        <p>عدد المنتجات: @Model.OrderProducts.Count()</p>
                        <table class="table table-bordered">

                            <tr>
                                <td><img src="@item.Product.Image" width="200" /></td>
                                <td>@item.Product.Name</td>
                                <td>@item.Product.Price</td>
                                <td>@item.Qty</td>
                            </tr>
                        </table>
                    }
                    else
                    {
                        <p class="text-danger">لا توجد منتجات في هذا الطلب.</p>
                    }
                }

            </tbody>
        </table>
    </div>
</div>